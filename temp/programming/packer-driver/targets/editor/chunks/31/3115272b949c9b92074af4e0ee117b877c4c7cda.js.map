{"version":3,"sources":["file:///C:/Users/zxq/Desktop/%E9%A3%9E%E6%9C%BA%E5%A4%A7%E6%88%98/NewProject/assets/script/GameManger.ts"],"names":["_decorator","Component","instantiate","Prefab","Label","Collider","ccclass","property","GameManger","type","start","playerbullet","ememy","update","deltaTime","schedule","buller","playerbullerPre","setParent","node","parent","player","getChildByName","position","setPosition","x","y","ememyX","Math","floor","random","enemy","enemyPre","enemypos","score","number","getComponent","dieNumber","printScore","children","string"],"mappings":";;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAsCC,MAAAA,W,OAAAA,W;AAAiDC,MAAAA,M,OAAAA,M;AAAkBC,MAAAA,K,OAAAA,K;;AAGrHC,MAAAA,Q,iBAAAA,Q;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBP,U;;4BAEjBQ,U,WADZF,OAAO,CAAC,YAAD,C,UAEHC,QAAQ,CAAC;AAAEE,QAAAA,IAAI,EAAEN;AAAR,OAAD,C,UAGRI,QAAQ,CAAC;AAAEE,QAAAA,IAAI,EAAEN;AAAR,OAAD,C,2BALb,MACaK,UADb,SACgCP,SADhC,CAC0C;AAAA;AAAA;;AAAA;;AAAA;AAAA;;AAOtCS,QAAAA,KAAK,GAAG;AACJ,eAAKC,YAAL;AACA,eAAKC,KAAL;AACH;;AAEDC,QAAAA,MAAM,CAACC,SAAD,EAAoB,CAEzB;;AAEDH,QAAAA,YAAY,GAAG;AACX,eAAKI,QAAL,CAAc,MAAM;AAChB,gBAAIC,MAAM,GAAGd,WAAW,CAAC,KAAKe,eAAN,CAAxB;AACAD,YAAAA,MAAM,CAACE,SAAP,CAAiB,KAAKC,IAAL,CAAUC,MAA3B;AACA,gBAAIC,MAAM,GAAG,KAAKF,IAAL,CAAUC,MAAV,CAAiBE,cAAjB,CAAgC,MAAhC,EAAwCC,QAArD;AACAP,YAAAA,MAAM,CAACQ,WAAP,CAAmBH,MAAM,CAACI,CAA1B,EAA6BJ,MAAM,CAACK,CAAP,GAAW,EAAxC,EAA4C,CAA5C;AACH,WALD,EAKG,CALH;AAMH;;AAEDd,QAAAA,KAAK,GAAG;AACJ,eAAKG,QAAL,CAAc,MAAM;AAChB,gBAAIY,MAAM,GAAGC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAgB,GAA3B,IAAkC,GAA/C;AACA,gBAAIC,KAAK,GAAG7B,WAAW,CAAC,KAAK8B,QAAN,CAAvB;AACAD,YAAAA,KAAK,CAACb,SAAN,CAAgB,KAAKC,IAAL,CAAUC,MAA1B;AACAW,YAAAA,KAAK,CAACP,WAAN,CAAkBG,MAAlB,EAA0B,GAA1B,EAA+B,CAA/B;AACA,gBAAIM,QAAQ,GAAGF,KAAK,CAACR,QAArB;AACH,WAND,EAMG,CANH;AAOH;;AAEDW,QAAAA,KAAK,GAAG;AACJ,cAAIC,MAAM,GAAG,KAAKhB,IAAL,CAAUiB,YAAV;AAAA;AAAA,mCAAb;AACAD,UAAAA,MAAM,CAACE,SAAP;AACA,eAAKC,UAAL;AACH;;AACDA,QAAAA,UAAU,GAAG;AACT,cAAIH,MAAM,GAAG,KAAKhB,IAAL,CAAUiB,YAAV;AAAA;AAAA,mCAAb;AACA,cAAIF,KAAK,GAAG,KAAKf,IAAL,CAAUoB,QAAV,CAAmB,CAAnB,CAAZ;AACAL,UAAAA,KAAK,CAACE,YAAN,CAAmBhC,KAAnB,EAA0BoC,MAA1B,GAAmC,WAAWL,MAAM,CAACE,SAArD;AACH;;AA5CqC,O;;;;;iBAEL,I;;;;;;;iBAGP,I","sourcesContent":["import { _decorator, Component, Collider2D, Contact2DType, instantiate, IPhysics2DContact, PhysicsSystem2D, Prefab, director, Label } from 'cc';\nimport { PlayerBullet } from './PlayerBullet';\nimport { Enemy } from './Enemy';\nimport { Collider } from './Collider';\nconst { ccclass, property } = _decorator;\n@ccclass('GameManger')\nexport class GameManger extends Component {\n    @property({ type: Prefab })\n    playerbullerPre: Prefab | null = null;\n\n    @property({ type: Prefab })\n    enemyPre: Prefab | null = null;\n\n    start() {\n        this.playerbullet();\n        this.ememy();\n    }\n\n    update(deltaTime: number) {\n\n    }\n\n    playerbullet() {\n        this.schedule(() => {\n            let buller = instantiate(this.playerbullerPre);\n            buller.setParent(this.node.parent);\n            let player = this.node.parent.getChildByName(\"hero\").position;\n            buller.setPosition(player.x, player.y + 50, 0);\n        }, 1)\n    }\n\n    ememy() {\n        this.schedule(() => {\n            let ememyX = Math.floor(Math.random() * 330) - 165;\n            let enemy = instantiate(this.enemyPre);\n            enemy.setParent(this.node.parent);\n            enemy.setPosition(ememyX, 550, 0);\n            let enemypos = enemy.position;\n        }, 1)\n    }\n\n    score() {\n        let number = this.node.getComponent(Collider);\n        number.dieNumber++;\n        this.printScore();\n    }\n    printScore() {\n        let number = this.node.getComponent(Collider);\n        let score = this.node.children[0];\n        score.getComponent(Label).string = \"score:\" + number.dieNumber;\n    }\n\n}\n\n\n"]}