{"version":3,"sources":["file:///C:/Users/zxq/Desktop/%E9%A3%9E%E6%9C%BA%E5%A4%A7%E6%88%98/NewProject/assets/script/GameManger.ts"],"names":["_decorator","Component","instantiate","Prefab","Collider","ccclass","property","GameManger","type","istrue","start","playerbullet1","ememy","update","deltaTime","schedule","ememyX","Math","floor","random","enemy","enemyPre","setParent","node","parent","setPosition","randoms","t","bulleris","playerbullet2","playerbullet3","playerbullet4","buller","playerbullerPre","player","getChildByName","position","x","y","buller2","buller3","missilePre","shield","shieldPre","getComponent","change","destroy"],"mappings":"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","sourcesContent":["import { _decorator, Component, instantiate, Prefab } from 'cc';\nimport { Collider } from './Collider';\nconst { ccclass, property } = _decorator;\n@ccclass('GameManger')\nexport class GameManger extends Component {\n    @property({ type: Prefab })\n    playerbullerPre: Prefab | null = null;\n\n    @property({ type: Prefab })\n    enemyPre: Prefab | null = null;\n\n    @property({ type: Prefab })\n    enemyPre1: Prefab | null = null;\n\n    @property({ type: Prefab })\n    missilePre: Prefab | null = null;\n\n    @property({ type: Prefab })\n    shieldPre: Prefab | null = null;\n\n    istrue: boolean = false;\n\n    start() {\n        this.playerbullet1();\n        this.ememy();\n    }\n\n    update(deltaTime: number) {\n    }\n\n    ememy() {\n        this.schedule(() => {\n            let ememyX = Math.floor(Math.random() * 320) - 165;\n            let enemy = instantiate(this.enemyPre);\n            enemy.setParent(this.node.parent);\n            enemy.setPosition(ememyX, 350, 0);\n        }, 1)\n    }\n\n    randoms() {\n        let t = Math.floor(Math.random() * 3);\n        this.istrue = true;\n        this.bulleris(t);\n    }\n\n    bulleris(t: number) {\n        switch (t) {\n            case 0: this.playerbullet2(); break;\n            case 1: this.playerbullet3(); break;\n            case 2: this.playerbullet4(); break;\n        }\n    }\n\n    //单颗子弹\n    playerbullet1() {\n        this.schedule(() => {\n            if (!this.istrue) {\n                let buller = instantiate(this.playerbullerPre);\n                buller.setParent(this.node.parent);\n                let player = this.node.parent.getChildByName(\"hero\").position;\n                buller.setPosition(player.x, player.y + 50, 0);\n            }\n        }, 0.5)\n\n    }\n    //三列子弹\n    playerbullet2() {\n        this.schedule(() => {\n            let buller = instantiate(this.playerbullerPre);\n            let buller2 = instantiate(this.playerbullerPre);\n            let buller3 = instantiate(this.playerbullerPre);\n            buller.setParent(this.node.parent);\n            buller2.setParent(this.node.parent);\n            buller3.setParent(this.node.parent);\n            let player = this.node.parent.getChildByName(\"hero\").position;\n            buller.setPosition(player.x, player.y + 50, 0);\n            buller2.setPosition(player.x - 20, player.y + 50, 0);\n            buller3.setPosition(player.x + 20, player.y + 50, 0);\n        }, 0.7, 5);\n        this.schedule(() => {\n            this.istrue = false;\n        }, 5, 1);\n    }\n    //导弹\n    playerbullet3() {\n        this.schedule(() => {\n            let buller = instantiate(this.missilePre);\n            buller.setParent(this.node.parent);\n            let player = this.node.parent.getChildByName(\"hero\").position;\n            buller.setPosition(player.x, player.y + 70, 0);\n        }, 1, 3);\n        this.schedule(() => {\n            this.istrue = false;\n        }, 5, 1);\n    }\n    //无敌\n    playerbullet4() {\n        let shield = instantiate(this.shieldPre);\n        shield.setParent(this.node.parent);\n        let player = this.node.parent.getChildByName(\"hero\").position;\n        shield.setPosition(player.x, player.y, 0);\n        this.node.getComponent(Collider).change();\n        this.schedule(() => {\n            shield.destroy();\n        }, 5, 1)\n\n        this.istrue = false;\n    }\n}"]}