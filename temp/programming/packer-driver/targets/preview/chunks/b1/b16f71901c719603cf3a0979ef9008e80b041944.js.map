{"version":3,"sources":["file:///C:/Users/zxq/Desktop/%E9%A3%9E%E6%9C%BA%E5%A4%A7%E6%88%98/NewProject/assets/script/GameManger.ts"],"names":["_decorator","Component","instantiate","Prefab","ccclass","property","GameManger","type","randomss","istrue","start","playerbullet1","ememy","update","deltaTime","randoms","Math","floor","random","bulleris","playerbullet2","schedule","buller","playerbullerPre","setParent","node","parent","player","getChildByName","position","setPosition","x","y","buller2","buller3","playerbullet3","ememyX","enemy","enemyPre"],"mappings":"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","sourcesContent":["import { _decorator, Component, instantiate, Prefab, random } from 'cc';\nimport { Energy } from './Energy';\nimport { Collider } from './Collider';\nconst { ccclass, property } = _decorator;\n@ccclass('GameManger')\nexport class GameManger extends Component {\n    @property({ type: Prefab })\n    playerbullerPre: Prefab | null = null;\n\n    @property({ type: Prefab })\n    enemyPre: Prefab | null = null;\n\n    randomss: number = null; istrue: boolean = false;\n    start() {\n        this.playerbullet1();\n\n        // this.playerbullet2();\n\n        this.ememy();\n    }\n\n    update(deltaTime: number) {\n    }\n\n    randoms() {\n        this.randomss = Math.floor(Math.random() * 2);\n        this.istrue = true;\n        this.bulleris();\n    }\n\n    bulleris() {\n        switch (this.randomss) {\n            case 0: this.playerbullet2(); this.schedule(() => {\n                this.istrue = false;\n            }, 2.5, 1); break;\n\n            // case 1: this.playerbullet3(); this.istrue = false; break;\n        }\n    }\n\n    //单颗子弹\n    playerbullet1() {\n\n        this.schedule(() => {\n            if (!this.istrue) {\n                let buller = instantiate(this.playerbullerPre);\n                buller.setParent(this.node.parent);\n                let player = this.node.parent.getChildByName(\"hero\").position;\n                buller.setPosition(player.x, player.y + 50, 0);\n            }\n        }, 0.5)\n\n    }\n    //三列子弹\n    playerbullet2() {\n        this.schedule(() => {\n            let buller = instantiate(this.playerbullerPre);\n            let buller2 = instantiate(this.playerbullerPre);\n            let buller3 = instantiate(this.playerbullerPre);\n            buller.setParent(this.node.parent);\n            buller2.setParent(this.node.parent);\n            buller3.setParent(this.node.parent);\n            let player = this.node.parent.getChildByName(\"hero\").position;\n            buller.setPosition(player.x, player.y + 50, 0);\n            buller2.setPosition(player.x - 20, player.y + 50, 0);\n            buller3.setPosition(player.x + 20, player.y + 50, 0);\n        }, 0.5, 4)\n    }\n    //导弹\n    playerbullet3() {\n        this.schedule(() => {\n            let buller = instantiate(this.playerbullerPre);\n            let buller2 = instantiate(this.playerbullerPre);\n            buller.setParent(this.node.parent);\n            buller2.setParent(this.node.parent);\n            let player = this.node.parent.getChildByName(\"hero\").position;\n            buller.setPosition(player.x, player.y + 50, 0);\n        }, 0.5, 4)\n    }\n\n    ememy() {\n        this.schedule(() => {\n            let ememyX = Math.floor(Math.random() * 320) - 165;\n            let enemy = instantiate(this.enemyPre);\n            enemy.setParent(this.node.parent);\n            enemy.setPosition(ememyX, 350, 0);\n        }, 1)\n    }\n\n}"]}