{"version":3,"sources":["file:///C:/Users/zxq/Desktop/%E9%A3%9E%E6%9C%BA%E5%A4%A7%E6%88%98/NewProject/assets/script/GameManger.ts"],"names":["_decorator","Component","instantiate","Prefab","Player","ccclass","property","GameManger","type","dieNumber","play","start","Bullets","update","deltaTime","schedule","buller","bullerPre","setParent","node","parent","getChildByName","player","position","console","log","name","setPosition","x","y"],"mappings":";;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAsCC,MAAAA,W,OAAAA,W;AAAiDC,MAAAA,M,OAAAA,M;;AAEnGC,MAAAA,M,iBAAAA,M;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBN,U;;4BAEjBO,U,WADZF,OAAO,CAAC,YAAD,C,UAEHC,QAAQ,CAAC;AAAEE,QAAAA,IAAI,EAAEL;AAAR,OAAD,C,UAGRG,QAAQ,CAAC;AAAEE,QAAAA,IAAI,EAAEL;AAAR,OAAD,C,2BALb,MACaI,UADb,SACgCN,SADhC,CAC0C;AAAA;AAAA;;AAAA;;AAAA;;AAAA,eAOtCQ,SAPsC,GAOlB,CAPkB;AAAA,eAQtCC,IARsC,GAQ/B;AAAA;AAAA,iCAR+B;AAAA;;AAStCC,QAAAA,KAAK,GAAG;AACJ,eAAKC,OAAL,GADI,CAEJ;AACA;AACA;AACA;AACA;AACA;AACA;AAEH;;AAEDC,QAAAA,MAAM,CAACC,SAAD,EAAoB,CAEzB;;AACDF,QAAAA,OAAO,GAAG;AACN,eAAKG,QAAL,CAAc,MAAM;AAChB,gBAAIC,MAAM,GAAGd,WAAW,CAAC,KAAKe,SAAN,CAAxB;AACAD,YAAAA,MAAM,CAACE,SAAP,CAAiB,KAAKC,IAAL,CAAUC,MAAV,CAAiBC,cAAjB,CAAgC,MAAhC,CAAjB;AACA,gBAAIC,MAAM,GAAG,KAAKH,IAAL,CAAUC,MAAV,CAAiBG,QAA9B;AACAC,YAAAA,OAAO,CAACC,GAAR,CAAY;AAAA;AAAA,kCAAOC,IAAnB;AACAV,YAAAA,MAAM,CAACW,WAAP,CAAmBL,MAAM,CAACM,CAA1B,EAA6BN,MAAM,CAACO,CAAP,GAAW,EAAxC,EAA4C,CAA5C;AACH,WAND,EAMG,GANH;AAOH,SAhCqC,CAiCtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AA3DsC,O;;;;;iBAEX,I;;;;;;;iBAGD,I","sourcesContent":["import { _decorator, Component, Collider2D, Contact2DType, instantiate, IPhysics2DContact, PhysicsSystem2D, Prefab, Label, director } from 'cc';\nimport { Bullet } from './Bullet';\nimport { Player } from './Player';\nconst { ccclass, property } = _decorator;\n@ccclass('GameManger')\nexport class GameManger extends Component {\n    @property({ type: Prefab })\n    bullerPre: Prefab | null = null;\n\n    @property({ type: Prefab })\n    enemyPre: Prefab | null = null;\n\n    dieNumber: number = 0;\n    play = new Player();\n    start() {\n        this.Bullets();\n        // this.schedule(() => {\n        //     let ememyX = Math.floor(Math.random() * 160) - 80;\n        //     let enemy = instantiate(this.enemyPre);\n        //     enemy.setParent(this.node.parent);\n        //     enemy.setPosition(ememyX, 150, 0);\n        // }, 1)\n        // PhysicsSystem2D.instance.on(Contact2DType.BEGIN_CONTACT, this.onBeginContact, this);\n\n    }\n\n    update(deltaTime: number) {\n\n    }\n    Bullets() {\n        this.schedule(() => {\n            let buller = instantiate(this.bullerPre);\n            buller.setParent(this.node.parent.getChildByName(\"hero\"));\n            let player = this.node.parent.position;\n            console.log(Player.name)\n            buller.setPosition(player.x, player.y + 40, 0);\n        }, 0.5)\n    }\n    // onBeginContact(selfCollider: Collider2D, otherCollider: Collider2D, contact: IPhysics2DContact | null) {\n    //     if ((selfCollider.tag == 0 && otherCollider.tag == 1) || (selfCollider.tag == 1 && otherCollider.tag == 0)) {\n    //         if (selfCollider.tag == 0) {\n    //             selfCollider.getComponent(Bullet).die();\n    //             otherCollider.getComponent(enemyManger).die();\n    //         }\n    //         if (selfCollider.tag == 1) {\n    //             selfCollider.getComponent(enemyManger).die();\n    //             otherCollider.getComponent(Bullet).die();\n    //         }\n    //         this.score();\n\n    //     }\n    //     if ((selfCollider.tag == 1 && otherCollider.tag == 3) || (selfCollider.tag == 3 && otherCollider.tag == 1)) {\n    //         alert(\"你以死亡，分数：\" + this.dieNumber);\n    //         director.purgeDirector();\n    //         director.loadScene(\"begin\");\n    //     }\n    // }\n    // score() {\n    //     let t = this.dieNumber++;\n    //     this.printScore();\n    // }\n    // printScore() {\n    //     let score = this.node.children[1];\n    //     score.getComponent(Label).string = this.dieNumber + \"\";\n    // }\n\n}\n\n"]}