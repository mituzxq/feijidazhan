{"version":3,"sources":["file:///C:/Users/zxq/Desktop/%E9%A3%9E%E6%9C%BA%E5%A4%A7%E6%88%98/NewProject/assets/script/GameManger.ts"],"names":["_decorator","Component","instantiate","Prefab","Energy","Collider","ccclass","property","GameManger","type","dieNumber","node","getComponent","start","console","log","random","ememy","update","deltaTime","randoms","getChildByName","playerbullet1","playerbullet2","playerbullet3","schedule","buller","playerbullerPre","setParent","parent","player","position","setPosition","x","y","buller2","buller3","ememyX","Math","floor","enemy","enemyPre"],"mappings":"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","sourcesContent":["import { _decorator, Component, instantiate, Prefab, random } from 'cc';\nimport { Energy } from './Energy';\nimport { Collider } from './Collider';\nconst { ccclass, property } = _decorator;\n@ccclass('GameManger')\nexport class GameManger extends Component {\n    @property({ type: Prefab })\n    playerbullerPre: Prefab | null = null;\n\n    @property({ type: Prefab })\n    enemyPre: Prefab | null = null;\n\n\n\n    dieNumber = this.node.getComponent(Collider).dieNumber;\n\n    start() {\n        console.log(this.random)\n\n        this.ememy();\n    }\n\n    update(deltaTime: number) {\n        console.log(this.dieNumber)\n    }\n\n    random() {\n        let randoms: number;\n        if (this.dieNumber % 10 == 0) {\n            randoms = this.node.getChildByName(\"energy\").getComponent(Energy).random;\n        }\n        switch (randoms) {\n            case 0: this.playerbullet1(); break;\n            case 1: this.playerbullet2(); break;\n            case 2: this.playerbullet3(); break;\n        }\n    }\n\n    //单颗子弹\n    playerbullet1() {\n        this.schedule(() => {\n            let buller = instantiate(this.playerbullerPre);\n            buller.setParent(this.node.parent);\n            let player = this.node.parent.getChildByName(\"hero\").position;\n            buller.setPosition(player.x, player.y + 50, 0);\n        }, 0.5)\n    }\n    //三列子弹\n    playerbullet2() {\n        this.schedule(() => {\n            let buller = instantiate(this.playerbullerPre);\n            let buller2 = instantiate(this.playerbullerPre);\n            let buller3 = instantiate(this.playerbullerPre);\n            buller.setParent(this.node.parent);\n            buller2.setParent(this.node.parent);\n            buller3.setParent(this.node.parent);\n            let player = this.node.parent.getChildByName(\"hero\").position;\n            buller.setPosition(player.x, player.y + 50, 0);\n            buller2.setPosition(player.x - 20, player.y + 50, 0);\n            buller3.setPosition(player.x + 20, player.y + 50, 0);\n        }, 0.5)\n    }\n    //导弹\n    playerbullet3() {\n        this.schedule(() => {\n            let buller = instantiate(this.playerbullerPre);\n            buller.setParent(this.node.parent);\n            let player = this.node.parent.getChildByName(\"hero\").position;\n            buller.setPosition(player.x, player.y + 50, 0);\n        }, 0.5)\n    }\n\n    ememy() {\n        this.schedule(() => {\n            let ememyX = Math.floor(Math.random() * 320) - 165;\n            let enemy = instantiate(this.enemyPre);\n            enemy.setParent(this.node.parent);\n            enemy.setPosition(ememyX, 350, 0);\n        }, 1)\n    }\n\n}"]}